<div class="relative">
  <button
    (mouseenter)="showComplianceInfo = true"
    (mouseleave)="showComplianceInfo = false"
    class="flex w-[12rem] flex-row items-center gap-2 rounded-md p-2 text-sm duration-300 ease-in-out hover:scale-105"
    [ngClass]="
      redCompliance()?.isRedCompliant ? 'bg-secondary-200/20 text-secondary-200' : 'bg-neutral-200/80 text-neutral-700'
    "
  >
    <span class="material-symbols-outlined"> {{ redCompliance()?.isRedCompliant ? 'check' : 'close' }}</span>
    <span>
      {{ redCompliance()?.isRedCompliant ? 'RED III Compliant' : 'not RED III Compliant' }}
    </span>
  </button>

  <div
    [ngClass]="showComplianceInfo ? 'opacity-100' : 'opacity-0'"
    class="absolute top-[3rem] z-20 flex w-[24rem] flex-col gap-2 rounded-lg border-2 border-neutral-100 bg-white p-4 shadow-2xl transition-opacity duration-300 2xl:left-[13rem] 2xl:top-0"
  >
    <div
      class="flex flex-row rounded-md border-[3px] p-4 text-sm"
      [ngClass]="redCompliance()?.isGeoCorrelationValid ? 'border-secondary-300/20' : 'border-neutral-200/80'"
    >
      <div class="stretch flex flex-col">
        <span class="font-semibold text-neutral-600">Geographical Correlation</span>
        <p>Power Production Unit and Hydrogen Production Unit have to be located in the same bidding Zone.</p>
      </div>
      <div class="flex w-16 items-center justify-center p-2">
        <span
          class="material-symbols-outlined text-4xl"
          [ngClass]="redCompliance()?.isGeoCorrelationValid ? 'text-secondary-200' : 'text-neutral-700'"
        >
          {{ redCompliance()?.isGeoCorrelationValid ? 'check' : 'close' }}</span
        >
      </div>
    </div>

    <div
      class="flex flex-row rounded-md border-[3px] p-4 text-sm"
      [ngClass]="redCompliance()?.isAdditionalityFulfilled ? 'border-secondary-300/20' : 'border-neutral-200/80'"
    >
      <div class="stretch flex flex-col">
        <span class="font-semibold text-neutral-600">Additionality Requirement</span>
        <p>
          The system must not have been in operation for more than 36 months prior to commissioning of the electrolyzer.
        </p>
      </div>
      <div class="flex w-16 items-center justify-center pl-2">
        <span
          class="material-symbols-outlined text-4xl"
          [ngClass]="redCompliance()?.isAdditionalityFulfilled ? 'text-secondary-200' : 'text-neutral-700'"
        >
          {{ redCompliance()?.isAdditionalityFulfilled ? 'check' : 'close' }}</span
        >
      </div>
    </div>

    <div
      class="flex flex-row rounded-md border-[3px] p-4 text-sm"
      [ngClass]="redCompliance()?.isTimeCorrelationValid ? 'border-secondary-300/20' : 'border-neutral-200/80'"
    >
      <div class="stretch flex flex-col">
        <span class="font-semibold text-neutral-600">Time Correlation</span>
        <p>Electricity and hydrogen must be generated within the same hour.</p>
      </div>
      <div class="flex w-16 items-center justify-center pl-2">
        <span
          class="material-symbols-outlined text-4xl"
          [ngClass]="redCompliance()?.isTimeCorrelationValid ? 'text-secondary-200' : 'text-neutral-700'"
        >
          {{ redCompliance()?.isTimeCorrelationValid ? 'check' : 'close' }}</span
        >
      </div>
    </div>

    // TODO:

    <app-red-check-card
      [title]="'Financial Support'"
      [description]="FINANCIAL_SUPPORT_INFO"
      [isValid]="redCompliance()?.financialSupportReceived ?? false"
    ></app-red-check-card>
  </div>
</div>
